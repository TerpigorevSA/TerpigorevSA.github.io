/*! For license information please see shared-ui-CropText-CropText-stories.729ee8d2.iframe.bundle.js.LICENSE.txt */
"use strict";(self.webpackChunkreact_start_template=self.webpackChunkreact_start_template||[]).push([[651],{"./src/shared/ui/CropText/CropText.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{VisibleCropText:()=>VisibleCropText,__namedExportsOrder:()=>__namedExportsOrder,default:()=>CropText_stories});var react=__webpack_require__("./node_modules/react/index.js"),useResizeObserver=__webpack_require__("./src/shared/hooks/useResizeObserver.ts"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js");function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(r,l){var t=null==r?null:"undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=t){var e,n,i,u,a=[],f=!0,o=!1;try{if(i=(t=t.call(r)).next,0===l){if(Object(t)!==t)return;f=!1}else for(;!(f=(e=i.call(t)).done)&&(a.push(e.value),a.length!==l);f=!0);}catch(r){o=!0,n=r}finally{try{if(!f&&null!=t.return&&(u=t.return(),Object(u)!==u))return}finally{if(o)throw n}}return a}}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var CropText=function CropText(_ref){var text=_ref.text,crop=_ref.crop,lineHeight=(0,react.useRef)(null),element=(0,react.useRef)(),ind=(0,react.useRef)(0),_useState2=_slicedToArray((0,react.useState)(!1),2),calculated=_useState2[0],setCalculated=_useState2[1],_useState4=_slicedToArray((0,react.useState)("A"),2),croppedText=_useState4[0],setCroppedText=_useState4[1];return(0,react.useLayoutEffect)((function(){var _lineHeight$current,_element$current$getB;lineHeight.current=null!==(_lineHeight$current=lineHeight.current)&&void 0!==_lineHeight$current?_lineHeight$current:null===(_element$current$getB=element.current.getBoundingClientRect())||void 0===_element$current$getB?void 0:_element$current$getB.height}),[text,crop]),(0,react.useLayoutEffect)((function(){if(!calculated&&crop){var postfix="...",words=text.split(" ");if(ind.current>=words.length-1&&(setCalculated(!0),setCroppedText(text)),lineHeight.current<element.current.getBoundingClientRect().height)return setCalculated(!0),ind.current--,void setCroppedText([words.slice(0,ind.current+1).join(" "),postfix].join(""));ind.current++,setCroppedText([words.slice(0,ind.current+1).join(" "),ind.current<words.length-1?postfix:""].join(""))}}),[text,croppedText,calculated,crop]),(0,useResizeObserver.Z)(element,!1,!0,(function(){setCroppedText("A"),setCalculated(!1),ind.current=0})),(0,jsx_runtime.jsx)("div",{ref:element,children:crop?croppedText:text})};CropText.displayName="CropText";const CropText_CropText=CropText;try{CropText.displayName="CropText",CropText.__docgenInfo={description:"",displayName:"CropText",props:{text:{defaultValue:null,description:"",name:"text",required:!0,type:{name:"string"}},crop:{defaultValue:null,description:"",name:"crop",required:!0,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/shared/ui/CropText/CropText.tsx#CropText"]={docgenInfo:CropText.__docgenInfo,name:"CropText",path:"src/shared/ui/CropText/CropText.tsx#CropText"})}catch(__react_docgen_typescript_loader_error){}const CropText_stories={title:"Shared/CropText",component:CropText_CropText,tags:["autodocs"],parameters:{layout:"fullscreen"},argTypes:{crop:{control:"boolean"},text:{control:"text"}},decorators:[function(Story){return(0,jsx_runtime.jsx)("div",{style:{resize:"horizontal",overflow:"auto",border:"1px dashed gray",padding:"10px",maxWidth:"100%",minWidth:"100px"},children:(0,jsx_runtime.jsx)(Story,{})})}]};var VisibleCropText={args:{crop:!0,text:"Lorem ipsum dolor sit, amet consectetur. Sem viverra magna fusce mus torquent metus dictumst suspendisse lectus quis, laoreet natoque at tempus turpis orci maecenas egestas gravida sociis morbi, scelerisque tortor iaculis ante nunc a malesuada facilisis aptent. Pharetra integer senectus malesuada ridiculus sollicitudin fusce cum commodo purus rhoncus suscipit, diam nisi suspendisse dictumst litora quisque tellus duis vitae porta, sed cras scelerisque id praesent platea nam mollis phasellus non. Fusce molestie fringilla scelerisque ullamcorper justo auctor accumsan, quisque enim nibh vehicula aliquam."}};VisibleCropText.parameters={...VisibleCropText.parameters,docs:{...VisibleCropText.parameters?.docs,source:{originalSource:"{\n  args: {\n    crop: true,\n    text: 'Lorem ipsum dolor sit, amet consectetur. Sem viverra magna fusce mus torquent metus dictumst suspendisse lectus quis, laoreet natoque at tempus turpis orci maecenas egestas gravida sociis morbi, scelerisque tortor iaculis ante nunc a malesuada facilisis aptent. Pharetra integer senectus malesuada ridiculus sollicitudin fusce cum commodo purus rhoncus suscipit, diam nisi suspendisse dictumst litora quisque tellus duis vitae porta, sed cras scelerisque id praesent platea nam mollis phasellus non. Fusce molestie fringilla scelerisque ullamcorper justo auctor accumsan, quisque enim nibh vehicula aliquam.'\n  }\n}",...VisibleCropText.parameters?.docs?.source}}};const __namedExportsOrder=["VisibleCropText"]},"./src/shared/hooks/useResizeObserver.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js");function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(r,l){var t=null==r?null:"undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=t){var e,n,i,u,a=[],f=!0,o=!1;try{if(i=(t=t.call(r)).next,0===l){if(Object(t)!==t)return;f=!1}else for(;!(f=(e=i.call(t)).done)&&(a.push(e.value),a.length!==l);f=!0);}catch(r){o=!0,n=r}finally{try{if(!f&&null!=t.return&&(u=t.return(),Object(u)!==u))return}finally{if(o)throw n}}return a}}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}const __WEBPACK_DEFAULT_EXPORT__=function useResizeObserver(element,observeHeight,observeWidth,onResize){(0,react__WEBPACK_IMPORTED_MODULE_0__.useLayoutEffect)((function(){var prevWidth=element.current.clientWidth,prevHeight=element.current.clientHeight,observer=new ResizeObserver((function(_ref){var entry=_slicedToArray(_ref,1)[0];(observeWidth&&prevWidth!==entry.contentRect.width||observeHeight&&prevHeight!==entry.contentRect.height)&&onResize()})),currentRef=element.current;return currentRef&&observer.observe(currentRef),function(){currentRef&&observer.disconnect()}}))}},"./node_modules/react/cjs/react-jsx-runtime.production.min.js":(__unused_webpack_module,exports,__webpack_require__)=>{var f=__webpack_require__("./node_modules/react/index.js"),k=Symbol.for("react.element"),l=Symbol.for("react.fragment"),m=Object.prototype.hasOwnProperty,n=f.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p={key:!0,ref:!0,__self:!0,__source:!0};function q(c,a,g){var b,d={},e=null,h=null;for(b in void 0!==g&&(e=""+g),void 0!==a.key&&(e=""+a.key),void 0!==a.ref&&(h=a.ref),a)m.call(a,b)&&!p.hasOwnProperty(b)&&(d[b]=a[b]);if(c&&c.defaultProps)for(b in a=c.defaultProps)void 0===d[b]&&(d[b]=a[b]);return{$$typeof:k,type:c,key:e,ref:h,props:d,_owner:n.current}}exports.Fragment=l,exports.jsx=q,exports.jsxs=q},"./node_modules/react/jsx-runtime.js":(module,__unused_webpack_exports,__webpack_require__)=>{module.exports=__webpack_require__("./node_modules/react/cjs/react-jsx-runtime.production.min.js")}}]);